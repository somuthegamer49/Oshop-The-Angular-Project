import './polyfills.server.mjs';
import{$ as it,G as K,I as Q,J as V,K as j,L as O,M as E,N as T,O as P,P as X,Q as Y,T as Z,X as tt,Z as w,_ as et,a as G,b as q,c as $,d as g,e as h,f,g as W,h as c,i as v,j as _,k as m,l as r,m as o,n as b,o as x,p as l,q as d,r as R,s as D,t as a,u as p,v as F,w as S,x as I,y as A,z as J}from"./chunk-5NMCUZK2.mjs";var y=(()=>{class i{constructor(){this.data={username:"",password:"",isAdmin:!1,cartlen:0,cartproduct:[],addcartactive:!1,fincart:new Set,ids:new Set,total:0,email:""},this.dataSubject=new G(this.data),this.currentData=this.dataSubject.asObservable()}setData(t){this.data.isAdmin=t,this.dataSubject.next(this.data)}setUsername(t){this.data.username=t,this.dataSubject.next(this.data)}setCartLen(t){this.data.cartlen=t,this.dataSubject.next(this.data)}setProductCart(t){this.data.cartproduct=t,this.dataSubject.next(this.data)}setAddtoCartactive(t){this.data.addcartactive=t,this.dataSubject.next(this.data)}setFinCart(t){this.data.fincart=t,this.dataSubject.next(this.data)}setIds(t){this.data.ids=t,this.dataSubject.next(this.data)}setTotal(t){this.data.total=t,this.dataSubject.next(this.data)}setEmail(t){this.data.email=t,this.dataSubject.next(this.data)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function vt(i,u){if(i&1&&(r(0,"span",8),a(1),o()),i&2){let t=d();c(),p(t.cartlen)}}function _t(i,u){if(i&1){let t=x();r(0,"li",1)(1,"p",9),l("click",function(){h(t);let n=d();return f(n.Login())}),a(2,"Log In"),o()()}}function Ct(i,u){if(i&1){let t=x();r(0,"li",13),l("click",function(){h(t);let n=d(2);return f(n.AdminOrder())}),r(1,"p",14),a(2,"Manage Orders"),o()()}}function gt(i,u){if(i&1){let t=x();r(0,"li",13),l("click",function(){h(t);let n=d(2);return f(n.AdminProduct())}),r(1,"p",14),a(2,"Manage Products"),o()()}}function xt(i,u){if(i&1){let t=x();r(0,"li",10)(1,"a",11),a(2),o(),r(3,"ul",12)(4,"li",13),l("click",function(){h(t);let n=d();return f(n.myOrder())}),r(5,"p",14),a(6,"My Orders"),o()(),_(7,Ct,3,0,"li",15)(8,gt,3,0,"li",15),r(9,"li",13),l("click",function(){h(t);let n=d();return f(n.Checkout())}),r(10,"p",14),a(11,"Checkout"),o()(),r(12,"li",13),l("click",function(){h(t);let n=d();return f(n.logout())}),r(13,"p",14),a(14,"Log Out"),o()()()()}if(i&2){let t=d();c(2),p(t.username),c(5),m("ngIf",t.Admin),c(),m("ngIf",t.Admin)}}var nt=(()=>{class i{constructor(t,e){this.ConnectService=t,this.router=e,this.notAdmin=!1,this.Admin=!1,this.cartlen=0}ngOnInit(){this.ConnectService.currentData.subscribe(t=>{t.isAdmin?this.Admin=!0:t.username!==""?this.notAdmin=!0:(this.Admin=!1,this.notAdmin=!1)}),this.ConnectService.currentData.subscribe(t=>this.username=t.username),this.ConnectService.currentData.subscribe(t=>this.cartlen=t.cartlen)}logout(){this.ConnectService.setData(!1),this.ConnectService.setUsername(""),this.router.navigate([""])}routetoCart(){this.router.navigate(["shoppingcart"])}routeHome(){this.router.navigate([""])}Checkout(){this.router.navigate(["checkout"])}AdminProduct(){this.router.navigate(["admin/products"])}AdminOrder(){this.router.navigate(["admin/orders"])}myOrder(){this.router.navigate(["my/orders"])}Login(){this.router.navigate(["login"])}static{this.\u0275fac=function(e){return new(e||i)(v(y),v(w))}}static{this.\u0275cmp=g({type:i,selectors:[["app-bs-navbar"]],standalone:!0,features:[S],decls:10,vars:3,consts:[[1,"nav","nav-tabs","navpos"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"click"],[1,"bi","bi-house-door-fill",2,"color","darkolivegreen","cursor","pointer"],[1,"bi","bi-cart-fill",2,"color","darkolivegreen","cursor","pointer"],["style","color: darkolivegreen;",4,"ngIf"],["class","nav-item",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[2,"color","darkolivegreen"],["aria-current","page",1,"nav-link","active",2,"cursor","pointer",3,"click"],[1,"nav-item","dropdown"],["data-bs-toggle","dropdown","href","#","role","button","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],[2,"cursor","pointer",3,"click"],[1,"dropdown-item"],["style","cursor: pointer;",3,"click",4,"ngIf"]],template:function(e,n){e&1&&(r(0,"ul",0)(1,"li",1)(2,"p",2),l("click",function(){return n.routeHome()}),b(3,"i",3),o()(),r(4,"li",1)(5,"p",2),l("click",function(){return n.routetoCart()}),b(6,"i",4),_(7,vt,2,1,"span",5),o()(),_(8,_t,3,0,"li",6)(9,xt,15,3,"li",7),o()),e&2&&(c(7),m("ngIf",n.cartlen>0),c(),m("ngIf",!n.Admin&&!n.notAdmin),c(),m("ngIf",n.Admin||n.notAdmin))},dependencies:[E,j]})}}return i})();var rt=(()=>{class i{constructor(){this.title="oshop"}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=g({type:i,selectors:[["app-root"]],standalone:!0,features:[S],decls:3,vars:0,consts:[[1,"container"]],template:function(e,n){e&1&&(b(0,"app-bs-navbar"),r(1,"div",0),b(2,"router-outlet"),o())},dependencies:[it,tt,nt]})}}return i})();function St(i,u){if(i&1){let t=x();r(0,"div",4),l("click",function(){let n=h(t).$implicit,s=d();return f(s.getCategory(n.name))}),a(1),o()}if(i&2){let t=u.$implicit;c(),F(" ",t.name," ")}}function bt(i,u){if(i&1){let t=x();r(0,"a",14),l("click",function(){h(t);let n=d().$implicit,s=d();return f(s.AddToCart(n))}),a(1,"Add To Cart"),o()}}function yt(i,u){if(i&1&&(r(0,"span",18),a(1),o()),i&2){let t=d().$implicit;c(),p(t.quantity)}}function Et(i,u){if(i&1&&(r(0,"span"),_(1,yt,2,1,"span",17),o()),i&2){let t=u.$implicit,e=d(2).$implicit;c(),m("ngIf",e.id===t.product.id)}}function wt(i,u){if(i&1){let t=x();r(0,"div")(1,"button",15),l("click",function(){h(t);let n=d().$implicit,s=d();return f(s.AddToCartMinus(n))}),a(2," -"),o(),_(3,Et,2,1,"span",16),r(4,"button",15),l("click",function(){h(t);let n=d().$implicit,s=d();return f(s.AddToCartPlus(n))}),a(5," + "),o()()}if(i&2){let t=d(2);c(3),m("ngForOf",t.productcart)}}function It(i,u){if(i&1&&(r(0,"div",7),b(1,"div",8),r(2,"div",9)(3,"h5",10),a(4),o(),r(5,"h5",10),a(6),o(),r(7,"p",11),a(8),I(9,"currency"),o(),_(10,bt,2,0,"a",12)(11,wt,6,1,"div",13),o()()),i&2){let t=u.$implicit,e=d();c(),D("background-image: url('",t.imageUrl,"');"),c(3),p(t.title),c(2),p(t.category),c(2),p(A(9,8,t.price,"INR")),c(2),m("ngIf",!e.ids.has(t.id)),c(),m("ngIf",e.ids.has(t.id))}}var H=(()=>{class i{constructor(t,e,n){this.http=t,this.ConnectService=e,this.router=n,this.cartlen=0,this.productcart=[],this.addcartactive=!1,this.quantity=0,this.ids=new Set,this.finalcart=new Set}ngOnInit(){this.ConnectService.currentData.subscribe(t=>this.cartlen=t.cartlen),this.ConnectService.currentData.subscribe(t=>this.finalcart=t.fincart),this.ConnectService.currentData.subscribe(t=>this.ids=t.ids),this.ConnectService.currentData.subscribe(t=>this.productcart=t.cartproduct),this.http.get("http://localhost:3000/products").subscribe(t=>{this.products=t,this.iniproduct=t},t=>{console.error("Error fetching data:",t)}),this.http.get("http://localhost:3000/categories").subscribe(t=>{this.categories=t},t=>{console.error("Error fetching data:",t)})}getCategory(t){let e=[];this.iniproduct.forEach(n=>{n.category.toLowerCase()===t.toLowerCase()&&e.push(n)}),this.products=e}resetCategory(){this.products=this.iniproduct}AddToCart(t){this.quantity=0,this.quantity++,this.ids.add(t.id),this.cart={product:t,quantity:this.quantity},this.finalcart.add(this.cart),this.productcart.push(this.cart),this.ConnectService.setCartLen(this.cartlen+1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids)}AddToCartMinus(t){this.finalcart.forEach(e=>{e.product.id===t.id&&(this.cart=e)}),this.cart.quantity--,this.cart.quantity<0&&(this.cart.quantity=0),this.cartlen===0&&this.ids.clear(),this.cart.quantity===0&&this.cart.product.id===t.id?(this.ids.delete(t.id),this.productcart.forEach((e,n)=>{e.product.id===t.id&&this.productcart.splice(n,1)}),this.ConnectService.setCartLen(this.cartlen-1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids)):this.finalcart.has(this.cart)&&(this.ConnectService.setCartLen(this.cartlen-1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids))}AddToCartPlus(t){this.finalcart.forEach(e=>{e.product.id===t.id&&(this.cart=e)}),this.cart.quantity++,this.ids.has(t.id)?(this.ConnectService.setCartLen(this.cartlen+1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids)):(this.productcart.push(this.cart),this.ConnectService.setCartLen(this.cartlen+1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids))}static{this.\u0275fac=function(e){return new(e||i)(v(T),v(y),v(w))}}static{this.\u0275cmp=g({type:i,selectors:[["app-products"]],standalone:!0,features:[S],decls:8,vars:2,consts:[[1,"d-flex",2,"overflow","unset"],[1,"sticky"],[1,"mt-5",2,"width","10rem"],["class","cat-cards m-3 p-3","style","border: 1px solid silver; text-align: center",3,"click",4,"ngFor","ngForOf"],[1,"cat-cards","m-3","p-3",2,"border","1px solid silver","text-align","center",3,"click"],[1,"mt-5","home-display"],["class","card m-3","style","width: 18rem",4,"ngFor","ngForOf"],[1,"card","m-3",2,"width","18rem"],[1,"image-disp"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","btn btn-secondary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-secondary","spl-btn","m-3","p-3",3,"click"],[4,"ngFor","ngForOf"],["class","special m-3 p-3",4,"ngIf"],[1,"special","m-3","p-3"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),_(3,St,2,1,"div",3),r(4,"div",4),l("click",function(){return n.resetCategory()}),a(5," Reset "),o()()(),r(6,"div",5),_(7,It,12,11,"div",6),o()()),e&2&&(c(3),m("ngForOf",n.categories),c(4),m("ngForOf",n.products))},dependencies:[P,E,V,j,O]})}}return i})();var ot=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=g({type:i,selectors:[["app-home"]],standalone:!0,features:[S],decls:1,vars:0,template:function(e,n){e&1&&b(0,"app-products")},dependencies:[H]})}}return i})();function kt(i,u){if(i&1){let t=x();r(0,"div",2),b(1,"div",3),r(2,"div",4),a(3),I(4,"currency"),o(),r(5,"div",5),a(6),o(),r(7,"div",6)(8,"button",7),l("click",function(){let n=h(t).$implicit,s=d();return f(s.AddToCartMinus(n))}),a(9," -"),o(),r(10,"span",8),a(11),o(),r(12,"button",7),l("click",function(){let n=h(t).$implicit,s=d();return f(s.AddToCartPlus(n))}),a(13," + "),o()()()}if(i&2){let t=u.$implicit;c(),D("background-image: url('",t.product.imageUrl,"');"),c(2),F(" ",A(4,6,t.product.price*t.quantity,"INR")," "),c(3),p(t.product.category),c(5),p(t.quantity)}}var at=(()=>{class i{constructor(t){this.ConnectService=t,this.cartlen=0,this.productcart=[],this.addcartactive=!1,this.quantity=0,this.ids=new Set,this.finalcart=new Set,this.total=0}ngOnInit(){this.ConnectService.currentData.subscribe(t=>this.cartlen=t.cartlen),this.ConnectService.currentData.subscribe(t=>this.finalcart=t.fincart),this.ConnectService.currentData.subscribe(t=>this.ids=t.ids),this.ConnectService.currentData.subscribe(t=>this.productcart=t.cartproduct),this.productcart.forEach(t=>{console.log(t),this.total+=t.quantity*t.product.price}),this.ConnectService.setTotal(this.total)}AddToCartMinus(t){let e;this.finalcart.forEach(n=>{n.product.id===t.product.id&&(e=n)}),e.quantity--,e.quantity<0&&(e.quantity=0),this.cartlen===0&&this.ids.clear(),e.quantity===0&&e.product.id===t.product.id?(this.ids.delete(t.product.id),this.productcart.forEach((n,s)=>{n.product.id===t.product.id&&this.productcart.splice(s,1)}),this.ConnectService.setCartLen(this.cartlen-1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids)):this.finalcart.has(e)&&(this.ConnectService.setCartLen(this.cartlen-1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids)),this.total=0,this.productcart.forEach(n=>{this.total+=n.quantity*n.product.price}),this.ConnectService.setTotal(this.total)}AddToCartPlus(t){let e;this.finalcart.forEach(n=>{n.product.id===t.product.id&&(e=n)}),e.quantity++,this.ids.has(t.product.id)?(this.ConnectService.setCartLen(this.cartlen+1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids)):(this.productcart.push(e),this.ConnectService.setCartLen(this.cartlen+1),this.ConnectService.setProductCart(this.productcart),this.ConnectService.setFinCart(this.finalcart),this.ConnectService.setIds(this.ids)),this.total=0,this.productcart.forEach(n=>{this.total+=n.quantity*n.product.price}),this.ConnectService.setTotal(this.total)}static{this.\u0275fac=function(e){return new(e||i)(v(y))}}static{this.\u0275cmp=g({type:i,selectors:[["shopping-cart"]],standalone:!0,features:[S],decls:5,vars:5,consts:[[1,"container","m-3","w-75"],["class","cart mb-3",4,"ngFor","ngForOf"],[1,"cart","mb-3"],[1,"image-cart"],[1,"price"],[1,"category"],[1,""],[1,"btn","btn-secondary","spl-btn","m-3","p-3",3,"click"],[1,"special","m-3","p-3"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2"),a(2),I(3,"currency"),o(),_(4,kt,14,9,"div",1),o()),e&2&&(c(2),F("Total: ",A(3,2,n.total,"INR"),""),c(2),m("ngForOf",n.productcart))},dependencies:[E,V,O]})}}return i})();function Tt(i,u){if(i&1){let t=x();r(0,"li",4),l("click",function(){let n=h(t).$implicit,s=d();return f(s.showProducts(n))}),r(1,"span"),a(2),o(),r(3,"span"),a(4),o(),r(5,"span"),a(6),o(),r(7,"span"),a(8),o(),r(9,"span"),a(10),o(),r(11,"span",5),a(12),I(13,"currency"),o()()}if(i&2){let t=u.$implicit;c(2),p(t.email),c(2),p(t.phone),c(2),p(t.address),c(2),p(t.pincode),c(2),p(t.orderdate),c(2),F("Total: ",A(13,6,t.total,"INR"),"")}}function Pt(i,u){if(i&1&&(r(0,"div",6),b(1,"div",7),r(2,"div",8)(3,"p",9),a(4),o(),r(5,"p",9),a(6),o(),r(7,"p",9),a(8),o(),r(9,"p",9),a(10),I(11,"currency"),o()()()),i&2){let t=u.$implicit;c(),D("background-image: url('",t.product.imageUrl,"')"),c(3),F(" ",t.product.category," "),c(2),p(t.product.title),c(2),p(t.quantity),c(2),p(A(11,7,t.product.price,"INR"))}}var ct=(()=>{class i{constructor(t,e){this.http=t,this.ConnectService=e,this.admin=!1,this.username="",this.email="",this.orderUSer=[],this.cart=[],this.emailcheck=[],this.user=!1}ngOnInit(){this.ConnectService.currentData.subscribe(t=>this.admin=t.isAdmin),this.ConnectService.currentData.subscribe(t=>this.email=t.email),this.ConnectService.currentData.subscribe(t=>this.username=t.username),this.http.get("http://localhost:3000/users").subscribe(t=>{this.emailcheck=t,this.emailcheck.forEach(e=>{e.email===this.email&&(this.user=!0)})}),this.http.get("http://localhost:3000/orders").subscribe(t=>{t&&(this.orders=t,this.orders.forEach(e=>{e.email===this.email&&this.orderUSer.push(e)}))})}showProducts(t){this.cart=[],t.cart.forEach(e=>{this.cart.push(e)})}static{this.\u0275fac=function(e){return new(e||i)(v(T),v(y))}}static{this.\u0275cmp=g({type:i,selectors:[["app-my-orders"]],standalone:!0,features:[S],decls:4,vars:2,consts:[[1,"list-group","w-75","container","mt-5"],["class","list-group-item d-flex justify-content-between align-items-center","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[1,"home-display"],["class","card cart m-3","style","width: 18rem",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"click"],[1,"badge","text-bg-secondary","rounded-pill","m-3","p-3"],[1,"card","cart","m-3",2,"width","18rem"],[1,"image-disp"],[1,"card-body"],[1,"card-text"]],template:function(e,n){e&1&&(r(0,"ul",0),_(1,Tt,14,9,"li",1),o(),r(2,"div",2),_(3,Pt,12,10,"div",3),o()),e&2&&(c(),m("ngForOf",n.orderUSer),c(2),m("ngForOf",n.cart))},dependencies:[P,E,V,O]})}}return i})();function At(i,u){if(i&1&&(r(0,"div",8),b(1,"div",9),r(2,"div",10),a(3),I(4,"currency"),o(),r(5,"div",11),a(6),o(),r(7,"div",12),a(8),o()()),i&2){let t=u.$implicit;c(),D("background-image: url('",t.product.imageUrl,"');"),c(2),F(" ",A(4,6,t.product.price,"INR")," "),c(3),p(t.product.category),c(2),p(t.quantity)}}function Ft(i,u){if(i&1){let t=x();r(0,"tr",13),l("click",function(){let n=h(t).$implicit,s=d();return f(s.getCart(n))}),r(1,"td"),a(2),o(),r(3,"td"),a(4),o(),r(5,"td"),a(6),o(),r(7,"td"),a(8),o(),r(9,"td"),a(10),o(),r(11,"td"),a(12),I(13,"currency"),o(),r(14,"td"),a(15),o(),r(16,"td")(17,"span")(18,"button",14),l("click",function(){let n=h(t).$implicit,s=d();return f(s.cancelOrder(n))}),a(19," Cancel "),o()()()()}if(i&2){let t=u.$implicit,e=u.index;c(2),p(e+1),c(2),p(t.address),c(2),p(t.phone),c(2),p(t.email),c(2),p(t.pincode),c(2),p(A(13,7,t.total,"INR")),c(3),p(t.orderdate)}}var st=(()=>{class i{constructor(t,e){this.http=t,this.connectService=e,this.isadmin=!1,this.cart=[]}ngOnInit(){this.connectService.currentData.subscribe(t=>this.isadmin=t.isAdmin),this.http.get("http://localhost:3000/orders").subscribe(t=>{this.isadmin&&t&&(this.orders=t,this.iniorders=t)})}getCart(t){this.cart=[],t.cart.forEach(e=>{this.cart.push(e)})}cancelOrder(t){this.http.delete(`http://localhost:3000/orders/${t.id}`).subscribe(e=>{console.log(e)})}searchProducts(t){let e=t.target.value.toLowerCase(),n=[];this.orders.forEach(s=>{console.log(s),(e!==""&&(s.address.toLowerCase().includes(e)||String(s.phone).toLowerCase().includes(e)||s.email.toLowerCase().includes(e))||String(s.pincode).toLowerCase().includes(e)||String(s.total).toLowerCase().includes(e))&&n.push(s)}),e===""?this.orders=this.iniorders:this.orders=n}static{this.\u0275fac=function(e){return new(e||i)(v(T),v(y))}}static{this.\u0275cmp=g({type:i,selectors:[["app-admin-orders"]],standalone:!0,features:[S],decls:31,vars:2,consts:[[1,"center-div","m-3","w-100"],["class","cart2 mb-3",4,"ngFor","ngForOf"],[1,"container","w-75","p-5"],[1,"input-group","flex-nowrap"],["type","text","placeholder","Search","aria-label","Username","aria-describedby","addon-wrapping",1,"form-control","mt-5","mb-5","admin-product-form",3,"input"],[1,"table","table-hover"],["scope","col"],["style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[1,"cart2","mb-3"],[1,"image-cart","p-3"],[1,"price"],[1,"category"],[1,"p-3"],[2,"cursor","pointer",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div")(2,"h2"),a(3,"Products"),o(),_(4,At,9,9,"div",1),o()(),r(5,"div",2)(6,"h2"),a(7,"Users"),o(),r(8,"div",3)(9,"input",4),l("input",function(C){return n.searchProducts(C)}),o()(),r(10,"table",5)(11,"thead")(12,"tr")(13,"th",6),a(14,"#"),o(),r(15,"th",6),a(16,"Address"),o(),r(17,"th",6),a(18,"Phone"),o(),r(19,"th",6),a(20,"Email"),o(),r(21,"th",6),a(22,"Pincode"),o(),r(23,"th",6),a(24,"Total"),o(),r(25,"th",6),a(26,"Date"),o(),r(27,"th",6),a(28,"Action"),o()()(),r(29,"tbody"),_(30,Ft,20,10,"tr",7),o()()()),e&2&&(c(4),m("ngForOf",n.cart),c(26),m("ngForOf",n.orders))},dependencies:[P,E,V,O]})}}return i})();function Vt(i,u){if(i&1&&(r(0,"option",16),a(1),o()),i&2){let t=u.$implicit;R("value",t.name),c(),p(t.name)}}function Ot(i,u){if(i&1){let t=x();r(0,"button",17),l("click",function(){h(t);let n=d();return f(n.saveProds())}),a(1,"Save"),o()}}function Mt(i,u){if(i&1){let t=x();r(0,"button",17),l("click",function(){h(t);let n=d();return f(n.saveEditProds())}),a(1,"Update"),o()}}function Dt(i,u){if(i&1){let t=x();r(0,"td")(1,"span")(2,"button",17),l("click",function(){h(t);let n=d().$implicit,s=d();return f(s.editProducts(n.id))}),a(3,"Edit"),o()(),r(4,"span")(5,"button",20),l("click",function(){h(t);let n=d().$implicit,s=d();return f(s.deleteProducts(n.id))}),a(6,"Delete"),o()()()}}function jt(i,u){if(i&1){let t=x();r(0,"td")(1,"button",17),l("click",function(){h(t);let n=d(2);return f(n.cancelEdit())}),a(2,"Cancel"),o()()}}function Lt(i,u){if(i&1&&(r(0,"tr")(1,"td"),a(2),o(),r(3,"td"),a(4),o(),r(5,"td"),a(6),I(7,"currency"),o(),r(8,"td"),b(9,"img",18),o(),r(10,"td"),a(11),o(),_(12,Dt,7,0,"td",19)(13,jt,3,0,"td",19),o()),i&2){let t=u.$implicit,e=u.index,n=d();c(2),p(e+1),c(2),p(t.title),c(2),p(J(7,7,t.price,"INR",!0)),c(3),R("src",t.imageUrl,W),c(2),p(t.category),c(),m("ngIf",!n.editMode),c(),m("ngIf",n.editMode&&n.data.id===t.id)}}var lt=(()=>{class i{constructor(t,e){this.http=t,this.router=e,this.data={id:"",category:"",imageUrl:"",price:0,title:""},this.title="",this.price=0,this.category="",this.imageurl="",this.editMode=!1}ngOnInit(){this.http.get("http://localhost:3000/categories").subscribe(t=>{this.categories=t},t=>{console.error("Error fetching data:",t)}),this.http.get("http://localhost:3000/products").subscribe(t=>{this.products=t,this.searchproducts=t},t=>{console.error("Error fetching data:",t)})}getTitle(t){this.title=t.target.value,console.log(this.title)}getPrice(t){let e=t.target.value;this.price=Number(e),console.log(this.price)}getImage(t){this.imageurl=t.target.value,console.log(this.imageurl)}getCategory(t){this.category=t.target.value,console.log(this.category)}saveProds(){let t={category:this.category,imageUrl:this.imageurl,price:this.price,title:this.title};t.category!==""&&t.imageUrl!==""&&t.price>0&&t.title!==""?this.http.post("http://localhost:3000/products",t).subscribe(e=>{console.log(e)}):console.log("Cant Push")}editProducts(t){this.editMode=!0,this.data.id=t}cancelEdit(){this.data.id="",this.editMode=!1}saveEditProds(){this.data.category=this.category,this.data.imageUrl=this.imageurl,this.data.price=this.price,this.data.title=this.title,this.data.category!==""&&this.data.imageUrl!==""&&this.data.price>0&&this.data.title!==""?this.http.put(`http://localhost:3000/products/${this.data.id}`,this.data).subscribe(t=>{console.log(t),this.editMode=!1,this.router.navigate(["/admin/products"])}):(console.log("Cant Push"),console.log(this.data))}deleteProducts(t){confirm("Are you sure that you want to delete the product")?this.http.delete(`http://localhost:3000/products/${t}`).subscribe(e=>{console.log(e),this.router.navigate(["/admin/products"])}):console.log("Can't Delete")}searchProducts(t){let e=t.target.value.toLowerCase(),n=[];this.products.forEach(s=>{e!==""&&(s.title.toLowerCase().includes(e)||e<=s.price||s.category.toLowerCase().includes(e))&&n.push(s)}),e===""?this.products=this.searchproducts:this.products=n}static{this.\u0275fac=function(e){return new(e||i)(v(T),v(w))}}static{this.\u0275cmp=g({type:i,selectors:[["app-admin-products"]],standalone:!0,features:[S],decls:38,vars:5,consts:[[1,"container","w-50","p-5"],[1,"mb-3","admin-product-form"],["type","text","id","text","aria-describedby","emailHelp","placeholder","Title",1,"form-control",3,"input"],["type","number","id","text","aria-describedby","emailHelp","placeholder","Price",1,"form-control",3,"input"],["type","text","id","text","aria-describedby","emailHelp","placeholder","Image URL",1,"form-control",3,"input"],[1,"admin-product-form",3,"input"],[3,"defaultSelected"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-5","p-3","navpos"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"container","w-75","p-5"],[1,"input-group","flex-nowrap"],["type","text","placeholder","Search","aria-label","Username","aria-describedby","addon-wrapping",1,"form-control","mt-5","mb-5","admin-product-form",3,"input"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],[1,"btn","btn-success",3,"click"],["alt","",1,"editimg",3,"src"],[4,"ngIf"],[1,"btn","btn-danger","m-3",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2"),a(2,"Admin Products"),o(),r(3,"div",1)(4,"input",2),l("input",function(C){return n.getTitle(C)}),o()(),r(5,"div",1)(6,"input",3),l("input",function(C){return n.getPrice(C)}),o()(),r(7,"div",1)(8,"input",4),l("input",function(C){return n.getImage(C)}),o()(),r(9,"select",5),l("input",function(C){return n.getCategory(C)}),r(10,"option",6),a(11,"Select Category"),o(),_(12,Vt,2,2,"option",7),o(),r(13,"div",8),_(14,Ot,2,0,"button",9)(15,Mt,2,0,"button",9),o()(),r(16,"div",10)(17,"h2"),a(18,"Edit Products"),o(),r(19,"div",11)(20,"input",12),l("input",function(C){return n.searchProducts(C)}),o()(),r(21,"table",13)(22,"thead")(23,"tr")(24,"th",14),a(25,"#"),o(),r(26,"th",14),a(27,"Title"),o(),r(28,"th",14),a(29,"Price"),o(),r(30,"th",14),a(31,"ImageURL"),o(),r(32,"th",14),a(33,"Category"),o(),r(34,"th",14),a(35,"Action"),o()()(),r(36,"tbody"),_(37,Lt,14,11,"tr",15),o()()()),e&2&&(c(10),m("defaultSelected",!0),c(2),m("ngForOf",n.categories),c(2),m("ngIf",!n.editMode),c(),m("ngIf",n.editMode),c(22),m("ngForOf",n.products))},dependencies:[P,E,V,j,O]})}}return i})();function Nt(i,u){if(i&1){let t=x();r(0,"div",1)(1,"div",2)(2,"label",3),a(3,"Email address"),o(),r(4,"input",4),l("input",function(n){h(t);let s=d();return f(s.getemail(n))}),o(),r(5,"div",5),a(6," We'll never share your email with anyone else. "),o()(),r(7,"div",2)(8,"label",6),a(9,"Password"),o(),r(10,"input",7),l("input",function(n){h(t);let s=d();return f(s.getpassword(n))}),o()(),r(11,"button",8),l("click",function(){h(t);let n=d();return f(n.login())}),a(12,"Login"),o()()}}var dt=(()=>{class i{constructor(t,e,n){this.http=t,this.ConnectService=e,this.router=n,this.recivedData=!1,this.data=[]}ngOnInit(){this.ConnectService.currentData.subscribe(t=>this.recivedData=t.isAdmin)}getemail(t){this.emailValue=t.target.value}getpassword(t){this.passValue=t.target.value}login(){this.http.get("http://localhost:3000/users").subscribe(t=>{this.data=t,this.data.forEach(e=>{e.email===this.emailValue&&e.password===this.passValue&&e.isAdmin===!0?(this.ConnectService.setData(e.isAdmin),this.ConnectService.setUsername(e.name),this.ConnectService.setEmail(e.email),this.router.navigate([""])):e.email===this.emailValue&&e.password===this.passValue&&e.isAdmin===!1&&(this.ConnectService.setData(e.isAdmin),this.ConnectService.setUsername(e.name),this.ConnectService.setEmail(e.email),this.router.navigate([""]))})},t=>{console.error("Error fetching data:",t)})}static{this.\u0275fac=function(e){return new(e||i)(v(T),v(y),v(w))}}static{this.\u0275cmp=g({type:i,selectors:[["app-login"]],standalone:!0,features:[S],decls:1,vars:1,consts:[["class","container w-50 logincomponent mt-3 p-5",4,"ngIf"],[1,"container","w-50","logincomponent","mt-3","p-5"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"input"],["id","emailHelp",1,"form-text"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1",1,"form-control",3,"input"],[1,"btn","btn-primary",3,"click"]],template:function(e,n){e&1&&_(0,Nt,13,0,"div",0),e&2&&m("ngIf",!n.recivedData)},dependencies:[P,E,j]})}}return i})();var pt=(()=>{class i{constructor(t,e,n){this.http=t,this.router=e,this.connectService=n,this.phone=-1,this.pincode=-1,this.address="",this.checkphone=!1,this.checkpin=!1,this.checaddress=!1,this.total=0,this.email="",this.cart=[],this.cartlen=0}ngOnInit(){this.connectService.currentData.subscribe(t=>this.total=t.total),this.connectService.currentData.subscribe(t=>this.email=t.email),this.connectService.currentData.subscribe(t=>this.cart=t.cartproduct),this.connectService.currentData.subscribe(t=>this.cartlen=t.cartlen)}getAddress(t){let e=t.target.value;e===""?this.checaddress=!1:(this.checaddress=!0,this.address=e)}getPhone(t){let e=t.target.value,n="1234567890";e===""&&(this.checkphone=!1);for(let s=0;s<e.length;s++){let C="";if(C+=e.charAt(s),n.includes(C)&&e.length===10)this.checkphone=!0;else{this.checkphone=!1,console.log(e);break}}this.checkphone&&(this.phone=Number(e))}getPincode(t){let e=t.target.value,n="1234567890";e===""&&(this.checkpin=!1);for(let s=0;s<e.length;s++){let C="";if(C+=e.charAt(s),n.includes(C)&&e.length<=6)this.checkpin=!0;else{this.checkpin=!1;break}}this.checkpin&&(this.pincode=Number(e))}placeOrder(){this.order={address:this.address,phone:this.phone,email:this.email,pincode:this.pincode,total:this.total,cart:this.cart,orderdate:new Date().toDateString()},this.checkphone&&this.checaddress&&this.checkpin&&this.cartlen>0?this.http.post("http://localhost:3000/orders",this.order).subscribe(t=>{t&&(this.connectService.setCartLen(0),this.connectService.setFinCart(new Set),this.connectService.setIds(new Set),this.connectService.setProductCart([]),this.router.navigate(["ordersuccess"]))}):console.log("Cant't place order")}static{this.\u0275fac=function(e){return new(e||i)(v(T),v(w),v(y))}}static{this.\u0275cmp=g({type:i,selectors:[["app-checkout"]],standalone:!0,features:[S],decls:16,vars:3,consts:[[1,"container","m-3","p-3","w-50"],[1,"mb-3","w-50"],["for","exampleInputEmail1",1,"form-label"],["type","text","id","exampleInputEmail1","aria-describedby","emailHelp",3,"input","ngClass"],[1,"mb-3"],[1,"form-floating"],["placeholder","Leave a comment here","id","floatingTextarea2",2,"height","100px",3,"input","ngClass"],[1,"btn","btn-primary",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"label",2),a(3,"Pincode"),o(),r(4,"input",3),l("input",function(C){return n.getPincode(C)}),o()(),r(5,"div",1)(6,"label",2),a(7,"Phone"),o(),r(8,"input",3),l("input",function(C){return n.getPhone(C)}),o()(),r(9,"div",4)(10,"label",2),a(11,"Address"),o(),r(12,"div",5)(13,"textarea",6),l("input",function(C){return n.getAddress(C)}),o()()(),r(14,"button",7),l("click",function(){return n.placeOrder()}),a(15,"Purchase"),o()()),e&2&&(c(4),m("ngClass",n.checkpin?"form-control admin-product-form":"form-control admin-product-form border-danger"),c(4),m("ngClass",n.checkphone?"form-control admin-product-form":"form-control admin-product-form border-danger"),c(5),m("ngClass",n.checaddress?"form-control admin-product-form":"form-control admin-product-form border-danger"))},dependencies:[E,Q,P]})}}return i})();var z=(()=>{class i{constructor(t,e){this.router=t,this.ConnectService=e}canActivate(){this.ConnectService.currentData.subscribe(t=>t.isAdmin?!0:(this.router.navigate(["/home"]),!1))}static{this.\u0275fac=function(e){return new(e||i)($(w),$(y))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var mt=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=g({type:i,selectors:[["app-order-success"]],standalone:!0,features:[S],decls:3,vars:0,consts:[[1,"container","thank","mt-5"],[2,"font-size","x-large","color","darkolivegreen"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h1",1),a(2,"Order placed succesfully!!"),o()())}})}}return i})();var U=(()=>{class i{constructor(t,e){this.router=t,this.ConnectService=e}canActivate(){this.ConnectService.currentData.subscribe(t=>t.username!==""?!0:(this.router.navigate(["/home"]),!1))}static{this.\u0275fac=function(e){return new(e||i)($(w),$(y))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ut=[{path:"",component:ot},{path:"shoppingcart",component:at},{path:"my/orders",component:ct,canActivate:[U]},{path:"admin/orders",component:st,canActivate:[z]},{path:"admin/products",component:lt,canActivate:[z]},{path:"login",component:dt},{path:"checkout",component:pt,canActivate:[U]},{path:"ordersuccess",component:mt,canActivate:[U]},{path:"products",component:H}];var ht={providers:[et(ut),Y()]};var qt={providers:[Z()]},ft=K(ht,qt);var $t=()=>X(rt,ft),He=$t;export{He as a};
